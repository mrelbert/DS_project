import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
from matplotlib import style
style.use("ggplot")
from sklearn import svm

# Age, height (cm), weight (lb), gender (1 for male, 0 for female)
data = [

[30, 182, 205, 1],
[35, 152, 129, 0],
[29, 176, 219, 1],
[64, 180, 244, 1],
[50, 167, 130, 0],
[43, 175, 180, 1],
[33, 182, 185, 1],
[33, 185, 215, 1],
[32, 175, 190, 1],
[36, 180, 205, 1],
[36, 162, 145, 0],
[36, 177, 218, 1],
[33, 170, 179, 1],
[29, 177, 177, 1],
[33, 177, 180, 1],
[34, 162, 130, 0],
[32, 160, 118, 0],
[33, 177, 205, 1],
[38, 187, 210, 1],
[37, 182, 220, 1],

[44, 175, 262, 1],
[49, 152, 125, 0],
[36, 177, 206, 1],
[37, 182, 185, 1],
[50, 185, 220, 1],
[37, 165, 163, 1],
[55, 157, 145, 0],
[34, 175, 198, 1],
[42, 165, 164, 0],
[33, 162, 134, 0],
[30, 170, 155, 1],
[23, 182, 205, 1],
[32, 187, 250, 1],
[30, 167, 165, 1],
[30, 185, 210, 1],
[30, 180, 198, 1],
[38, 172, 137, 0],
[34, 190, 247, 1],
[31, 180, 187, 1],
[30, 175, 181, 1],

[32, 177, 205, 1],
[34, 157, 128, 0],
[38, 185, 216, 1],
[36, 177, 219, 1],
[34, 167, 140, 0],
[35, 160, 115, 0],
[36, 177, 135, 0],
[34, 177, 180, 1],
[33, 177, 188, 1],
[33, 182, 197, 1],
[29, 167, 162, 0],
[33, 170, 171, 1],
[52, 182, 212, 1],
[43, 177, 170, 0],
[33, 180, 187, 1],
[40, 172, 130, 0],
[40, 167, 143, 0],
[38, 155, 130, 0],
[32, 187, 210, 1],
[36, 157, 128, 0],

[33, 182, 200, 1],
[47, 182, 215, 1],
[42, 170, 134, 0],
[75, 167, 125, 1],
[34, 167, 132, 0],
[33, 187, 180, 1],
[48, 170, 155, 0],
[30, 180, 220, 1],
[48, 153, 116, 0],
[29, 187, 206, 1],
[38, 177, 199, 1],
[36, 172, 161, 1],
[35, 172, 150, 0],
[32, 180, 140, 0],
[43, 147, 115, 0],
[36, 162, 126, 0],
[30, 166, 148, 0],
[34, 172, 148, 0],
[40, 177, 200, 1],
[45, 162, 114, 0],

[34, 187, 205, 1],
[39, 154, 112, 0],
[39, 180, 203, 1],
[29, 175, 201, 1],
[58, 167, 185, 1],
[58, 175, 175, 1],
[33, 165, 112, 0],
[50, 177, 180, 1],
[30, 177, 212, 1],
[35, 177, 197, 1],
[33, 190, 212, 1],
[47, 162, 128, 0],
[28, 180, 270, 1],
[32, 177, 205, 1],
[43, 182, 193, 1],
[33, 157, 122, 0],
[35, 160, 118, 0],
[40, 167, 140, 0],
[28, 167, 205, 1],
[41, 187, 235, 1]

]

# other: 1
# gain muscle: 2
# lose fat: 3
# compete: 4
# transform my body: 5
# live healthier: 6
# improve for a sport: 7

labels = [1, 2, 3, 2, 1, 1, 4, 1, 4, 1, 5, 2, 3, 1, 1, 3, 2, 2, 3, 2,
     1, 1, 1, 2, 1, 1, 4, 3, 1, 2, 5, 5, 1, 2, 1, 6, 1, 1, 1, 2,
     1, 3, 2, 7, 5, 4, 1, 1, 2, 2, 3, 4, 3, 5, 1, 3, 3, 1, 2, 3,
     1, 3, 3, 6, 1, 2, 1, 1, 3, 1, 3, 2, 3, 2, 5, 3, 7, 4, 1, 1,
     1, 2, 1, 3, 1, 2, 6, 1, 2, 5, 4, 1, 2, 4, 5, 4, 1, 2, 1, 1]

X = np.array(data)

y = labels

clf = svm.SVC(kernel='linear', C = 1.0)
clf.fit(X,y)

testSetData = [

[50, 165, 135, 0],
[30, 182, 257, 1],
[45, 167, 137, 0],
[34, 175, 135, 0],
[35, 177, 222, 1],
[35, 175, 157, 0],
[34, 157, 121, 0],
[26, 170, 190, 1],
[36, 175, 199, 1],
[43, 175, 130, 0],
[27, 177, 176, 1],
[36, 167, 182, 1],
[30, 177, 180, 1],
[33, 180, 183, 1],
[35, 177, 208, 1],
[36, 172, 187, 1],
[35, 177, 172, 0],
[30, 182, 242, 1],
[35, 177, 178, 1],
[33, 177, 180, 1]

]

testSetLabels = [1, 1, 1, 1, 1, 6, 1, 1, 3, 1, 1, 3, 4, 1, 1, 2, 1, 2, 1, 6]
testCounter = 0

for testSet in range (0, len(testSetData)):
    test = np.array(testSetData[testSet])
    test = test.reshape(1, -1)
    test = clf.predict(test)
    if test == testSetLabels[testSet]:
        testCounter = testCounter + 1

print("Training set size: " + str(len(X)))
print("Testing set size: " + str(len(testSetData)))
print("Analysis: " + str(testCounter) + "/" + str(len(testSetData)) + " correct.")

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

x = []
y = []
z = []
c = []

for element in X:
    x.append(element[0])
    y.append(element[1])
    z.append(element[2])
    c.append(element[3])

ax.scatter(x, y, z, c=c, cmap='viridis_r')
ax.set_xlabel('Age')
ax.set_ylabel('Height')
ax.set_zlabel('Weight')

plt.show()